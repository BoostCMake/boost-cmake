sudo: required

matrix:
    include:
        - os: osx
          compiler: clang

        - os: linux
          compiler: gcc
          addons: &gcc
            apt:
              packages:
                - util-linux
                - g++-4.9
              sources:
                - ubuntu-toolchain-r-test
                
        - os: linux
          compiler: clang
            apt:
              packages:
                - util-linux
                - clang-6.0
              sources:
                - ubuntu-toolchain-r-test
                
before_install:
  - sudo apt-get install -y zlib1g-dev libbz2-dev mpich
  - sudo apt-get install -y python3-dev python3-pip python3-tk python3-lxml python3-six 
  - sudo apt-get install -y libssl-dev # OpenSSl
  - sudo apt-get install -y libicu-dev libc6-dev # ICU and Iconv
  - sudo apt-get install -y bsdmainutils build-essential autotools-dev automake autoconf git 
  - git clone --quiet --recurse-submodules https://github.com/boostorg/boost.git -b boost-1.58.0
  
# Enable C++ support
language: cpp
  
install:

# Build steps
script:
  - mkdir build
  - cd build
  - cmake .. -DBUILD_WITH_SOURCES_DIR=../boost-1.58.0 && make -j$(nproc) all && make -j$(nproc) tests
