include(CMTest)

find_package(${CMAKE_WORKSPACE_NAME}_config)
find_package(${CMAKE_WORKSPACE_NAME}_test)

cm_test_link_libraries(${CMAKE_WORKSPACE_NAME}_metaparse
                        ${CMAKE_WORKSPACE_NAME}::config
                        ${CMAKE_WORKSPACE_NAME}::test
                       )

#test-suite "metaparse"
cm_test(NAME metaparse_test_accept SOURCES ${CURRENT_TEST_SOURCES_DIR}/accept.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_accept_when SOURCES ${CURRENT_TEST_SOURCES_DIR}/accept_when.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_back_inserter SOURCES ${CURRENT_TEST_SOURCES_DIR}/back_inserter.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_all_headers SOURCES ${CURRENT_TEST_SOURCES_DIR}/all_headers.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_alphanum SOURCES ${CURRENT_TEST_SOURCES_DIR}/alphanum.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_always_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/always_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_always SOURCES ${CURRENT_TEST_SOURCES_DIR}/always.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_at_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/at_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_build_parser SOURCES ${CURRENT_TEST_SOURCES_DIR}/build_parser.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_change_error_message SOURCES ${CURRENT_TEST_SOURCES_DIR}/change_error_message.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_concat SOURCES ${CURRENT_TEST_SOURCES_DIR}/concat.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_define_error SOURCES ${CURRENT_TEST_SOURCES_DIR}/define_error.cpp)
cm_test(NAME metaparse_test_digit SOURCES ${CURRENT_TEST_SOURCES_DIR}/digit.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_digit_to_int SOURCES ${CURRENT_TEST_SOURCES_DIR}/digit_to_int.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_digit_val SOURCES ${CURRENT_TEST_SOURCES_DIR}/digit_val.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_empty SOURCES ${CURRENT_TEST_SOURCES_DIR}/empty.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_empty_string SOURCES ${CURRENT_TEST_SOURCES_DIR}/empty_string.cpp)
cm_test(NAME metaparse_test_entire_input SOURCES ${CURRENT_TEST_SOURCES_DIR}/entire_input.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_except SOURCES ${CURRENT_TEST_SOURCES_DIR}/except.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_fail_at_first_char_expected SOURCES ${CURRENT_TEST_SOURCES_DIR}/fail_at_first_char_expected.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_fail SOURCES ${CURRENT_TEST_SOURCES_DIR}/fail.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_fail_tag SOURCES ${CURRENT_TEST_SOURCES_DIR}/fail_tag.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_first_of SOURCES ${CURRENT_TEST_SOURCES_DIR}/first_of.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldl1 SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldl1.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldl SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldl.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldl_reject_incomplete1 SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldl_reject_incomplete1.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldl_reject_incomplete SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldl_reject_incomplete.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldl_reject_incomplete_start_with_parser SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldl_reject_incomplete_start_with_parser.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldl_start_with_parser SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldl_start_with_parser.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldr1 SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldr1.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldr SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldr.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldr_reject_incomplete1 SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldr_reject_incomplete1.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldr_reject_incomplete SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldr_reject_incomplete.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_foldr_start_with_parser SOURCES ${CURRENT_TEST_SOURCES_DIR}/foldr_start_with_parser.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_front_inserter SOURCES ${CURRENT_TEST_SOURCES_DIR}/front_inserter.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_grammar SOURCES ${CURRENT_TEST_SOURCES_DIR}/grammar.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_has_type SOURCES ${CURRENT_TEST_SOURCES_DIR}/has_type.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_if_ SOURCES ${CURRENT_TEST_SOURCES_DIR}/if_.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_in_range_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/in_range_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_in_range SOURCES ${CURRENT_TEST_SOURCES_DIR}/in_range.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_int_ SOURCES ${CURRENT_TEST_SOURCES_DIR}/int_.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_int_to_digit SOURCES ${CURRENT_TEST_SOURCES_DIR}/int_to_digit.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_is_char_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/is_char_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_is_digit SOURCES ${CURRENT_TEST_SOURCES_DIR}/is_digit.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_is_error SOURCES ${CURRENT_TEST_SOURCES_DIR}/is_error.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_is_lcase_letter SOURCES ${CURRENT_TEST_SOURCES_DIR}/is_lcase_letter.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_is_letter SOURCES ${CURRENT_TEST_SOURCES_DIR}/is_letter.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_is_ucase_letter SOURCES ${CURRENT_TEST_SOURCES_DIR}/is_ucase_letter.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_is_whitespace SOURCES ${CURRENT_TEST_SOURCES_DIR}/is_whitespace.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_iterate_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/iterate_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_iterate SOURCES ${CURRENT_TEST_SOURCES_DIR}/iterate.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_keyword SOURCES ${CURRENT_TEST_SOURCES_DIR}/keyword.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_last_of SOURCES ${CURRENT_TEST_SOURCES_DIR}/last_of.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_letter SOURCES ${CURRENT_TEST_SOURCES_DIR}/letter.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_lit_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/lit_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_lit SOURCES ${CURRENT_TEST_SOURCES_DIR}/lit.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_look_ahead SOURCES ${CURRENT_TEST_SOURCES_DIR}/look_ahead.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_middle_of SOURCES ${CURRENT_TEST_SOURCES_DIR}/middle_of.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_next_digit SOURCES ${CURRENT_TEST_SOURCES_DIR}/next_digit.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_nth_of SOURCES ${CURRENT_TEST_SOURCES_DIR}/nth_of.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_one_char SOURCES ${CURRENT_TEST_SOURCES_DIR}/one_char.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_one_char_except_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/one_char_except_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_one_char_except SOURCES ${CURRENT_TEST_SOURCES_DIR}/one_char_except.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_one_of_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/one_of_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_one_of SOURCES ${CURRENT_TEST_SOURCES_DIR}/one_of.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_optional SOURCES ${CURRENT_TEST_SOURCES_DIR}/optional.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_pop_back SOURCES ${CURRENT_TEST_SOURCES_DIR}/pop_back.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_pop_front SOURCES ${CURRENT_TEST_SOURCES_DIR}/pop_front.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_push_back_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/push_back_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_push_front_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/push_front_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_range_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/range_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_range SOURCES ${CURRENT_TEST_SOURCES_DIR}/range.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_reject SOURCES ${CURRENT_TEST_SOURCES_DIR}/reject.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_remove_trailing_no_chars SOURCES ${CURRENT_TEST_SOURCES_DIR}/remove_trailing_no_chars.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_repeated1 SOURCES ${CURRENT_TEST_SOURCES_DIR}/repeated1.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_repeated SOURCES ${CURRENT_TEST_SOURCES_DIR}/repeated.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_repeated_one_of1 SOURCES ${CURRENT_TEST_SOURCES_DIR}/repeated_one_of1.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_repeated_one_of SOURCES ${CURRENT_TEST_SOURCES_DIR}/repeated_one_of.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_repeated_reject_incomplete1 SOURCES ${CURRENT_TEST_SOURCES_DIR}/repeated_reject_incomplete1.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_repeated_reject_incomplete SOURCES ${CURRENT_TEST_SOURCES_DIR}/repeated_reject_incomplete.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_return_ SOURCES ${CURRENT_TEST_SOURCES_DIR}/return_.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_returns SOURCES ${CURRENT_TEST_SOURCES_DIR}/returns.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_sequence SOURCES ${CURRENT_TEST_SOURCES_DIR}/sequence.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_sequence_apply SOURCES ${CURRENT_TEST_SOURCES_DIR}/sequence_apply.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_size SOURCES ${CURRENT_TEST_SOURCES_DIR}/size.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_source_position SOURCES ${CURRENT_TEST_SOURCES_DIR}/source_position.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_space SOURCES ${CURRENT_TEST_SOURCES_DIR}/space.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_spaces SOURCES ${CURRENT_TEST_SOURCES_DIR}/spaces.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_split_at_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/split_at_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_string SOURCES ${CURRENT_TEST_SOURCES_DIR}/string.cpp)
cm_test(NAME metaparse_test_string_iterator_tag SOURCES ${CURRENT_TEST_SOURCES_DIR}/string_iterator_tag.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_string_tag SOURCES ${CURRENT_TEST_SOURCES_DIR}/string_tag.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_swap SOURCES ${CURRENT_TEST_SOURCES_DIR}/swap.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_token SOURCES ${CURRENT_TEST_SOURCES_DIR}/token.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_transform SOURCES ${CURRENT_TEST_SOURCES_DIR}/transform.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_transform_error SOURCES ${CURRENT_TEST_SOURCES_DIR}/transform_error.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_transform_error_message SOURCES ${CURRENT_TEST_SOURCES_DIR}/transform_error_message.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_unless_error SOURCES ${CURRENT_TEST_SOURCES_DIR}/unless_error.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_unpaired SOURCES ${CURRENT_TEST_SOURCES_DIR}/unpaired.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_update_c SOURCES ${CURRENT_TEST_SOURCES_DIR}/update_c.cpp COMPILE_ONLY)
cm_test(NAME metaparse_test_version SOURCES ${CURRENT_TEST_SOURCES_DIR}/version.cpp COMPILE_ONLY)
